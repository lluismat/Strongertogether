/**
 * strongertogether - strongertogether Project Generated from HotTowel Angular
 * @authors 
 * @version v0.0.0
 * @link 
 * @license 
 */
!function(){"use strict";angular.module("app",["app.core","app.widgets","app.home","app.layout","app.contact","app.hospitals","app.users","app.profile","app.foro","app.mensaje"])}(),function(){"use strict";angular.module("app.admin",["app.core","app.widgets"])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";angular.module("app.contact",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngSanitize","blocks.exception","blocks.logger","blocks.router","ui.router","ui.bootstrap","ngplus","countrySelect","ngCookies","ngFileUpload","summernote"])}(),function(){"use strict";angular.module("app.foro",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.home",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.hospitals",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.layout",["app.core","ui.bootstrap.collapse"])}(),function(){"use strict";angular.module("app.mensaje",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.profile",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.users",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.widgets",["uiGmapgoogle-maps"])}(),function(){"use strict";function e(e){function a(){e.info("Activated Admin View")}var t=this;t.title="Admin",a()}angular.module("app.admin").controller("AdminController",e),e.$inject=["logger"]}(),function(){"use strict";function e(e){e.configureStates(a())}function a(){return[{state:"admin",config:{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"vm",title:"Admin",settings:{nav:2,content:'<i class="fa fa-lock"></i> Admin'}}}]}angular.module("app.admin").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(){this.config={appErrorPrefix:void 0},this.configure=function(e){this.config.appErrorPrefix=e},this.$get=function(){return{config:this.config}}}function a(e){e.decorator("$exceptionHandler",t)}function t(e,a,t){return function(n,o){var r=a.config.appErrorPrefix||"",i={exception:n,cause:o};n.message=r+n.message,t.error(n.message,i),e(n,o)}}angular.module("blocks.exception").provider("exceptionHandler",e).config(a),a.$inject=["$provide"],t.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function e(e,a){function t(t){return function(n){var o,r;return n.data&&n.data.description&&(o="\n"+n.data.description,r=t+o),n.data.description=r,a.error(r),e.reject(n)}}var n={catcher:t};return n}e.$inject=["$q","logger"],angular.module("blocks.exception").factory("exception",e)}(),function(){"use strict";function e(e,a){function t(t,n,o){a.error(t,o),e.error("Error: "+t,n)}function n(t,n,o){a.info(t,o),e.info("Info: "+t,n)}function o(t,n,o){a.success(t,o),e.info("Success: "+t,n)}function r(t,n,o){a.warning(t,o),e.warn("Warning: "+t,n)}var i={showToasts:!0,error:t,info:n,success:o,warning:r,log:e.log};return i}angular.module("blocks.logger").factory("logger",e),e.$inject=["$log","toastr"]}(),function(){"use strict";function e(e,a,t){function n(e,n,r,i){function s(e,n){e.forEach(function(e){e.config.resolve=angular.extend(e.config.resolve||{},o.resolveAlways),a.state(e.state,e.config)}),n&&!p&&(p=!0,t.otherwise(n))}function l(){n.$on("$stateChangeError",function(a,t,n,o,r,s){if(!m){g.errors++,m=!0;var l=t&&(t.title||t.name||t.loadedTemplateUrl)||"unknown target",c="Error routing to "+l+". "+(s.data||"")+". <br/>"+(s.statusText||"")+": "+(s.status||"");i.warning(c,[t]),e.path("/")}})}function c(){l(),u()}function d(){return r.get()}function u(){n.$on("$stateChangeSuccess",function(e,a){g.changes++,m=!1;var t=o.docTitle+" "+(a.title||"");n.title=t})}var m=!1,p=!1,g={errors:0,changes:0},v={configureStates:s,getStates:d,stateCounts:g};return c(),v}var o={docTitle:void 0,resolveAlways:{}};window.history&&window.history.pushState||(window.location.hash="/"),e.html5Mode(!0),this.configure=function(e){angular.extend(o,e)},this.$get=n,n.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",e),e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e,a,t){function n(){var e={name:o.inputName,from:o.inputEmail,to:"",subject:o.inputSubject,text:o.inputMessage,type:"admin"};a.sendemail(e).then(function(n){n?(e.type="user",a.sendemail(e).then(function(e){e?(o.resultMessageOk="Su email ha sido enviado correctamente",o.inputName="",o.inputEmail="",o.inputSubject="",o.inputMessage="",t.go("home")):o.resultMessageFail="Ha habido un error al enviar el email, intentelo mas tarde"})):o.resultMessageFail="Ha habido un error al enviar el email, intentelo mas tarde"})}var o=this;o.title="Contact",o.inputName="",o.inputEmail="",o.inputSubject="",o.inputMessage="",o.sendContact=n}angular.module("app.contact").controller("ContactController",e),e.$inject=["$q","dataservice","$state"]}(),function(){"use strict";function e(e){e.configureStates(a())}function a(){return[{state:"contact",config:{url:"/contacto",templateUrl:"app/contact/contact.html",controller:"ContactController",controllerAs:"vm",title:"Contacto"}}]}angular.module("app.contact").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e){e.options.timeOut=4e3,e.options.positionClass="toast-bottom-right"}function a(e,a,t){e.debugEnabled&&e.debugEnabled(!0),t.configure(n.appErrorPrefix),a.configure({docTitle:n.appTitle+": "})}var t=angular.module("app.core");t.config(e),e.$inject=["toastr"];var n={appErrorPrefix:"[strongertogether Error] ",appTitle:"strongertogether"};t.value("config",n),t.config(a),a.$inject=["$logProvider","routerHelperProvider","exceptionHandlerProvider"]}(),function(){"use strict";angular.module("app.core").constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function e(e){var t="/404";e.configureStates(a(),t)}function a(){return[{state:"404",config:{url:"/404",templateUrl:"app/core/404.html",title:"404"}}]}e.$inject=["routerHelper"],angular.module("app.core").run(e)}(),function(){"use strict";function e(e,a,t,n,o){function r(a){function t(){return!0}function n(){return!1}return e.post("/api/sendmail",a).then(t).catch(n)}function i(a){function t(e){return o.authUser=e.data,e}function n(){return o.authUser=!1,!1}return e.post("/api/login",a).then(t).catch(n)}function s(){function a(e){return e}function n(e){return t.catcher("XHR Failed for socialSignin")(e)}return e.get("/auth/success").then(a).catch(n)}function l(a){function t(e){return e}function n(){return!1}return e.post("/api/verify",a).then(t).catch(n)}function c(a){function t(e){return e}function n(){return!1}return e.post("/api/recovery",a).then(t).catch(n)}function d(a){function t(e){return e}function n(){return!1}return e.post("/api/changepass",a).then(t).catch(n)}function u(a){function t(e){return e}function n(){return!1}return e.post("/api/signup",a).then(t).catch(n)}function m(a){function t(e){return e}function n(){return!1}return e.post("/api/profile",a).then(t).catch(n)}function p(a){function t(e){return e}function n(){return!1}return e.post("/api/save_profile",a).then(t).catch(n)}function g(a){function t(e){return e}function n(){return!1}return e.post("/api/save_account",a).then(t).catch(n)}function v(a){function t(e){return e}function n(){return!1}return e.post("/api/temas",a).then(t).catch(n)}function f(){function a(e){return e}function t(){return!1}return e.post("/api/categorias").then(a).catch(t)}function h(a){function t(e){return e}function n(){return!1}return e.post("/api/tema",a).then(t).catch(n)}function b(a){function t(e){return e}function n(){return!1}return e.post("/api/editar_tema",a).then(t).catch(n)}function y(a){function t(e){return e}function n(){return!1}return e.post("/api/nuevo_comentario",a).then(t).catch(n)}function w(a){function t(e){return e}function n(){return!1}return e.post("/api/nuevo_tema",a).then(t).catch(n)}function $(a){function t(e){return e}function n(){return!1}return e.post("/api/comentario",a).then(t).catch(n)}function _(a){function t(e){return e}function n(){return!1}return e.post("/api/editar_comentario",a).then(t).catch(n)}function x(a){function t(e){return e}function n(){return!1}return e.post("/api/show_message",a).then(t).catch(n)}function P(a){function t(e){return e}function n(){return!1}return e.post("/api/get_mensajes",a).then(t).catch(n)}function C(a){function t(e){return e}function n(){return!1}return e.post("/api/read_message",a).then(t).catch(n)}function k(a){function t(e){return e}function n(){return!1}return e.post("/api/send_message",a).then(t).catch(n)}function j(a){function t(e){return e}function n(){return!1}return e.post("/api/addfriend",a).then(t).catch(n)}function M(){function a(e){return e.data}function n(e){return t.catcher("XHR Failed for getHospitals")(e)}return e.get("/api/hospitals").then(a).catch(n)}var E={sendemail:r,getHospitals:M,signUp:u,verify:l,recoveryPass:c,changePass:d,login:i,socialLogin:s,profile:m,saveProfile:p,saveAccount:g,getTemas:v,getCategorias:f,crearTema:w,getTema:h,crearComentario:y,editar_tema:b,getComentario:$,editar_comentario:_,addFriend:j,getMensajes:P,sendMessage:k,showMessage:x,readMessage:C};return E}angular.module("app.core").factory("dataservice",e),e.$inject=["$http","$q","exception","logger","$rootScope","$state"]}(),function(){"use strict";function e(e,a,t,n,o,r,i,s,l){function c(){""==m.username&&(t.warning("Para crear un tema debes iniciar session en Strongertogether!"),l(function(){r.go("foro")},1e3))}function d(e){i.upload({url:"http://localhost:3000/upload",data:{type:"image",file:e[0]}}).then(function(e){0===e.data.error_code?(n.editor.summernote("insertImage",e.data.path+e.data.filename),t.success("Imagen subido con exito.")):t.error("Ha Habido un error al subir la imagen.")},function(e){t.error("Error status: "+e.status)},function(e){var a=parseInt(100*e.loaded/e.total);m.progress="progress: "+a+"% "})}function u(){if(""!=m.username){var e={titulo:m.titulo,contenido:m.contenido,autor:m.username,categoria:s.categoria};return a.crearTema(e).then(function(e){"error"!=e.data?(t.success("Tema Creado con exito"),r.go("foro")):t.error("Ha habido un erro al crear el tema")})}t.error("Para crear un tema debes de estar registrado")}var m=this;m.titulo="",m.username="",m.contenido="",m.crearTema=u,m.imageUpload=d,o.get("session")&&(m.username=o.get("session").user),m.options={height:300,lang:"es-ES",focus:!0,disableResizeEditor:!0,disableDragAndDrop:!0,toolbar:[["edit",["undo","redo"]],["headline",["style"]],["style",["bold","italic","underline","strikethrough","clear"]],["fontface",["fontname"]],["textsize",["fontsize"]],["fontclr",["color"]],["alignment",["ul","ol","paragraph"]],["insert",["link","picture","video","hr"]],["view",["fullscreen"]],["help",["help"]]]},c()}angular.module("app.foro").controller("crearTemaController",e),e.$inject=["$q","dataservice","logger","$scope","$cookieStore","$state","Upload","$stateParams","$timeout"]}(),function(){"use strict";function e(e,a,t,n,o,r,i,s){function l(){if(s.id){var a=[c()];return e.all(a).then(function(){})}}function c(){var e={id:s.id};return a.getComentario(e).then(function(e){"error"!=e.data&&(m.comentario=e.data)})}function d(e){i.upload({url:"http://localhost:3000/upload",data:{type:"image",file:e[0]}}).then(function(e){0===e.data.error_code?(n.editor.summernote("insertImage",e.data.path+e.data.filename),t.success("Imagen subido con exito.")):t.error("Ha Habido un error al subir la imagen.")},function(e){t.error("Error status: "+e.status)},function(e){var a=parseInt(100*e.loaded/e.total);m.progress="progress: "+a+"% "})}function u(){if(""!=m.username&&m.username==m.comentario.autor){var e={contenido:m.comentario.contenido,comentario:s.id};return a.editar_comentario(e).then(function(e){"error"!=e.data?(m.coment=e.data.contenido,t.success("Cometario editado con exito"),r.go("tema",{id:m.tema})):(t.error("Ha habido un error al editar el comentario"),r.go("tema",{id:m.tema}))})}t.error("No puedes editar un comentario que no es tuyo!!"),r.go("tema",{id:m.tema})}var m=this;m.username="",m.comentario=[],m.tema=s.tema,m.imageUpload=d,m.editar_comentario=u,o.get("session")&&(m.username=o.get("session").user),m.options={height:300,lang:"es-ES",focus:!0,disableResizeEditor:!0,disableDragAndDrop:!0,toolbar:[["edit",["undo","redo"]],["headline",["style"]],["style",["bold","italic","underline","strikethrough","clear"]],["fontface",["fontname"]],["textsize",["fontsize"]],["fontclr",["color"]],["alignment",["ul","ol","paragraph"]],["insert",["link","picture","video","hr"]],["view",["fullscreen"]],["help",["help"]]]},l()}angular.module("app.foro").controller("editarComentarioController",e),e.$inject=["$q","dataservice","logger","$scope","$cookieStore","$state","Upload","$stateParams"]}(),function(){"use strict";function e(e,a,t,n,o){function r(){var a=[s()];return e.all(a).then(function(){})}function i(e){u.currentCat=e,u.temasPage=[],u.maxPages=[];var t={categoria:e};return a.getTemas(t).then(function(e){u.temas=e.data,c(),l()})}function s(){return a.getCategorias().then(function(e){u.categorias=e.data,u.currentCat=e.data[0].id,i(u.currentCat)})}function l(){var e=(u.currentPage-1)*u.pageSize,a=Math.min(e+u.pageSize-1,u.temas.length-1);u.temasPage=u.temas.slice(e,a+1)}function c(){u.pages=Math.ceil(u.temas.length/u.pageSize);for(var e=1;e<=u.pages;e++)u.maxPages.push(e)}function d(e){"first"==e?u.currentPage=1:"prev"==e?u.currentPage=u.currentPage-1:"next"==e?u.currentPage=u.currentPage+1:"last"==e&&(u.currentPage=u.pages)}var u=this;u.titulo="",u.contenido="",u.temas=[],u.categorias=[],u.currentPage=1,u.pageSize=15,u.maxPages=[],u.pages=1,u.numTemas=0,u.temasPage=[],u.currentCat="",u.username="",u.countPages=c,u.pagination=d,u.showTemas=l,u.getTemas=i,o.get("session")&&(u.username=o.get("session").user),r()}angular.module("app.foro").controller("ForoController",e),e.$inject=["$q","dataservice","logger","$scope","$cookieStore","$state","$stateParams"]}(),function(){"use strict";function e(e){e.configureStates(a())}function a(){return[{state:"foro",config:{url:"/foros",templateUrl:"app/foro/foro.html",controller:"ForoController",controllerAs:"vm",title:"Foros"}},{state:"NuevoTema",config:{url:"/nuevo_tema?categoria",templateUrl:"app/foro/newTema.html",controller:"crearTemaController",controllerAs:"vm",title:"Nuevo Tema"}},{state:"tema",config:{url:"/tema?id",templateUrl:"app/foro/tema.html",controller:"temaController",controllerAs:"vm",title:"Tema"}},{state:"comentario",config:{url:"/nuevo_comentario?id",templateUrl:"app/foro/comentario.html",controller:"temaController",controllerAs:"vm",title:"Nuevo Comentario"}},{state:"editar_tema",config:{url:"/editar_tema?id",templateUrl:"app/foro/editar_tema.html",controller:"temaController",controllerAs:"vm",title:"Editar Tema"}},{state:"editar_comentario",config:{url:"/editar_comentario?id&tema",templateUrl:"app/foro/editar_comentario.html",controller:"editarComentarioController",controllerAs:"vm",title:"Editar Comentario"}}]}angular.module("app.foro").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,a,t,n,o,r,i,s,l){function c(){if(s.id){var a=[d()];return e.all(a).then(function(){})}}function d(){var e={id:s.id};return a.getTema(e).then(function(e){if("error"!=e.data){v.tema=e.data.tema,v.user=e.data.user,v.coment=e.data.comentarios,v.contentTema=l.trustAsHtml(v.tema.contenido);for(var a=0;a<v.coment.length;a++)v.coment[a].contenido=l.trustAsHtml(v.coment[a].contenido)}})}function u(e){i.upload({url:"http://localhost:3000/upload",data:{type:"image",file:e[0]}}).then(function(e){0===e.data.error_code?(n.editor.summernote("insertImage",e.data.path+e.data.filename),t.success("Imagen subido con exito.")):t.error("Ha Habido un error al subir la imagen.")},function(e){t.error("Error status: "+e.status)},function(e){var a=parseInt(100*e.loaded/e.total);v.progress="progress: "+a+"% "})}function m(){if(""!=v.username){var e={contenido:v.contenido,autor:v.username,tema:s.id};return a.crearComentario(e).then(function(e){"error"!=e.data?(v.coment=e.data.contenido,t.success("Comentario creado con exito"),r.go("tema",{id:s.id})):(t.error("Ha habido un error al hacer el comentario"),r.go("tema",{id:s.id}))})}t.error("Para Comentar debes de estar registrado"),r.go("tema",{id:s.id})}function p(){if(""!=v.username&&v.username==v.tema.autor){var e={titulo:v.tema.titulo,contenido:v.tema.contenido,tema:s.id};return a.editar_tema(e).then(function(e){"error"!=e.data?(v.coment=e.data.contenido,t.success("Comentario creado con exito"),r.go("tema",{id:s.id})):(t.error("Ha habido un error al hacer el comentario"),r.go("tema",{id:s.id}))})}t.error("No puedes editar un tema que no es tuyo!!"),r.go("tema",{id:s.id})}function g(e){if(v.username!=e&&""!=e){v.friends[0]=e;var n={friends:v.friends,username:v.username};return a.addFriend(n).then(function(a){"errorexist"!=a.data?t.success("El usuario "+e+" es ahora amigo tuyo"):t.error("errorexist"==a.data?"El usuario "+e+" ya es amigo tuyo":"Ha habido un error al añadir a tu lista de amigos a"+e)})}}var v=this;v.titulo="",v.username="",v.contenido="",v.tema=[],v.user=[],v.coment="",v.friends=[],v.contentTema="",v.comentario=m,v.imageUpload=u,v.addFriend=g,v.editar_tema=p,o.get("session")&&(v.username=o.get("session").user),v.options={height:300,lang:"es-ES",focus:!0,disableResizeEditor:!0,disableDragAndDrop:!0,toolbar:[["edit",["undo","redo"]],["headline",["style"]],["style",["bold","italic","underline","strikethrough","clear"]],["fontface",["fontname"]],["textsize",["fontsize"]],["fontclr",["color"]],["alignment",["ul","ol","paragraph"]],["insert",["link","picture","video","hr"]],["view",["fullscreen"]],["help",["help"]]]},c()}angular.module("app.foro").controller("temaController",e),e.$inject=["$q","dataservice","logger","$scope","$cookieStore","$state","Upload","$stateParams","$sce"]}(),function(){"use strict";function e(){var e=this;e.title="Home"}angular.module("app.home").controller("HomeController",e),e.$inject=["$q","dataservice","logger"]}(),function(){"use strict";function e(e){e.configureStates(a())}function a(){return[{state:"home",config:{url:"/",templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"vm",title:"Pagina Principal"}}]}angular.module("app.home").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,a,t,n,o){function r(){var a=[i()];return e.all(a).then(function(){n.info("Activated Hospitals View")})}function i(){return t.getHospitals().then(function(e){return d.hospitals=e,l(d.hospitals),d.hospitals})}function s(){var e=(d.currentPage-1)*d.numPerPage,a=e+d.numPerPage;d.filteredHospitals=d.hospitals.slice(e,a)}function l(e){for(var a=0;a<e.length;a++){var t=e[a].latitude,n=e[a].longitude;d.Marker={latitude:t,longitude:n,id:a},d.markers.push(d.Marker)}o.testMarkers=d.markers}function c(e){o.selectedHospital=d.hospitals[e];a.open({animation:"true",templateUrl:"app/hospitals/infoHospitals.html",controller:"hospitalsController",controllerAs:"vm",scope:o,size:"lg"})}var d=this;d.title="Hospitals",d.hospitals=[],d.filteredHospitals=[],d.numPerPage=20,d.maxSize=5,d.currentPage=1,d.markers=[],d.infoMarker=c,o.$watch(s),d.map={center:{latitude:39.1389498,longitude:-.6615438},zoom:9,windows:{model:{},show:!1,options:{pixelOffset:{width:-1,height:-20}}},markersEvents:{click:function(e,a,t){d.map.windows.model=t,d.map.windows.show=!0;for(var n=0;n<d.hospitals.length;n++)d.hospitals[n].id===t.id&&(d.infoWindow=d.hospitals[n])}}},r()}angular.module("app.hospitals").controller("hospitalsController",e),e.$inject=["$q","$uibModal","dataservice","logger","$scope"]}(),function(){"use strict";function e(e){e.configureStates(a())}function a(){return[{state:"hospitals",config:{url:"/hospitales",templateUrl:"app/hospitals/hospitals.html",controller:"hospitalsController",controllerAs:"vm",title:"Hospitales"}}]}angular.module("app.hospitals").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(){function e(e,a){function t(a){var t="dropy";a.preventDefault(),o.hasClass(t)?o.hasClass(t)&&(o.removeClass(t),n.slideUp(350,e.whenDoneAnimating)):(n.slideDown(350,e.whenDoneAnimating),o.addClass(t))}var n=a.find(".sidebar-inner"),o=a.find(".sidebar-dropdown a");a.addClass("sidebar"),o.click(t)}var a={link:e,restrict:"EA",scope:{whenDoneAnimating:"&?"}};return a}angular.module("app.layout").directive("htSidebar",e)}(),function(){"use strict";function e(){function e(e){e.isCollapsed=!0}var a={bindToController:!0,controller:e,controllerAs:"vm",restrict:"EA",scope:{navline:"="},templateUrl:"app/layout/ht-top-nav.html"};return e.$inject=["$scope"],a}angular.module("app.layout").directive("htTopNav",e)}(),function(){"use strict";function e(e,a,t,n,o){var r=this;r.messageCount=0,r.people=[],r.title="modal",a.closeModal=function(){o.dismiss("cancel")}}angular.module("app.users").controller("modalController",e),e.$inject=["$q","$rootScope","dataservice","logger","$uibModalInstance"]}(),function(){"use strict";function e(e,a,t,n){function o(){n.success(t.appTitle+" loaded!",null)}var r=this;r.busyMessage="Please wait ...",r.isBusy=!0,r.navline={title:t.appTitle},o()}angular.module("app.layout").controller("ShellController",e),e.$inject=["$rootScope","$timeout","config","logger"]}(),function(){"use strict";function e(e,a,t,n,o,r,i,s,l){function c(e){var a={user:e};return n.getMensajes(a).then(function(e){b.mensajes=e.data})}function d(e){var a=[u(e)];return i.all(a).then(function(){o.open({animation:"true",templateUrl:"app/profile/showMessage.html",controller:"modalController",size:"lg"});m(e)})}function u(e){var a={id:e,destinatario:r.username};return n.showMessage(a).then(function(e){"error"!=e.data?(r.asunto=e.data.asunto,r.mensaje=l.trustAsHtml(e.data.mensaje),r.autor=e.data.autor):s.error("Ups, Ha habido un error y no se ha posido mostrar el mensaje en este momento")})}function m(e){var a={id:e,destinatario:r.username};return n.readMessage(a).then(function(e){"error"!=e.data&&c(r.username)})}function p(){t.remove("session"),r.Session=!1,s.success("Has cerrado sesión con exito!"),e.go("home")}function g(){var e=t.get("session");void 0!=e?(r.Session=!0,r.username=e.user,r.avatar=e.avatar,r.tipo=e.tipo,c(e.user)):r.Session=!1}function v(){o.open({animation:"true",templateUrl:"app/users/login.view.html",controller:"modalController",size:""})}function f(){o.open({animation:"true",templateUrl:"app/users/sign_up.view.html",controller:"modalController",size:""})}function h(){o.open({animation:"true",templateUrl:"app/users/recoveryPassword.view.html",controller:"modalController",size:""})}var b=this;b.mensajes=[];a.getStates();b.openModal=v,b.openSignUp=f,b.showLogin=g,b.logout=p,b.openRecoveryPass=h,b.showMessage=d,b.read_message=m,g()}angular.module("app.layout").controller("SidebarController",e),e.$inject=["$state","routerHelper","$cookieStore","dataservice","$uibModal","$rootScope","$q","logger","$sce"]}(),function(){"use strict";function e(e,a,t,n,o,r,i,s,l){function c(e){s.upload({url:"http://localhost:3000/upload",data:{type:"image",file:e[0]}}).then(function(e){0===e.data.error_code?(n.editor.summernote("insertImage",e.data.path+e.data.filename),t.success("Imagen subido con exito.")):t.error("Ha Habido un error al subir la imagen.")},function(e){t.error("Error status: "+e.status)},function(e){var a=parseInt(100*e.loaded/e.total);u.progress="progress: "+a+"% "})}function d(){if(""!=u.username){var e={asunto:u.asunto,mensaje:u.mensaje,autor:u.username,destinatario:l.user};return r.sendMessage(e).then(function(e){"error"!=e.data?(t.success("Mensaje enviado con exito"),a.go("foro")):t.error("Ha habido un error al enviar el mensaje")})}t.error("Para enviar mensajes debes estar registrado")}var u=this;u.title="mensaje",u.asunto="",u.mensaje="",u.autor="",u.destinatario="",u.tema=l.tema,u.username=i.get("session").user,u.sendMessage=d,u.imageUpload=c,u.options={height:300,lang:"es-ES",focus:!0,disableResizeEditor:!0,disableDragAndDrop:!0,toolbar:[["edit",["undo","redo"]],["headline",["style"]],["style",["bold","italic","underline","strikethrough","clear"]],["fontface",["fontname"]],["textsize",["fontsize"]],["fontclr",["color"]],["alignment",["ul","ol","paragraph"]],["insert",["link","picture","video","hr"]],["view",["fullscreen"]],["help",["help"]]]}}angular.module("app.mensaje").controller("mensajeController",e),e.$inject=["$q","$state","logger","$scope","$rootScope","dataservice","$cookieStore","Upload","$stateParams"]}(),function(){"use strict";function e(e,t){e.configureStates(a(t))}function a(){return[{state:"mensaje",config:{url:"/enviar_mensaje?user&tema",templateUrl:"app/mensaje/enviar_mensaje.html",controller:"mensajeController",controllerAs:"vm",title:"Mensaje"}}]}angular.module("app.profile").run(e),e.$inject=["routerHelper","dataservice"]}(),function(){"use strict";function e(e,a,t,n,o,r,i,s,l){function c(){var a=[d()];return e.all(a).then(function(){u()})}function d(){var e={user:x.username};return o.profile(e).then(function(e){n.user=e.data.user,x.temas=e.data.temas,n.user.avatar="","null"==n.user.name&&(n.user.name=""),"null"==n.user.surname&&(n.user.surname=""),"null"==n.user.city&&(n.user.city=""),y(),h()})}function u(){var e={user:x.username};return o.getMensajes(e).then(function(e){x.mensajes=e.data,w(),b()})}function m(a){var t=[p(a)];return e.all(t).then(function(){s.open({animation:"true",templateUrl:"app/profile/showMessage.html",controller:"modalController",size:"lg"});g(a)})}function p(e){var a={id:e,destinatario:x.username};return o.showMessage(a).then(function(e){"error"!=e.data?(n.asunto=e.data.asunto,n.mensaje=l.trustAsHtml(e.data.mensaje),n.autor=e.data.autor):t.error("Ups, Ha habido un error y no se ha posido mostrar el mensaje en este momento")})}function g(e){var t={id:e,destinatario:x.username};return o.readMessage(t).then(function(e){"error"!=e.data&&a.reload()})}function v(){x.avatar&&"default_user.png"!=x.avatar?(i.upload({url:"http://localhost:3000/upload",data:{type:"avatar",user:n.user.username,file:x.avatar}}).then(function(e){0===e.data.error_code?t.success("Avatar subido con exito."):t.error("Ha Habido un error al subir la imagen.")},function(e){t.error("Error status: "+e.status)},function(e){var a=parseInt(100*e.loaded/e.total);x.progress="progress: "+a+"% "}),n.user.avatar=x.avatar!=r.get("session").avatar&&""!=x.avatar?n.user.username+"."+x.avatar.name.split(".")[x.avatar.name.split(".").length-1]:r.get("session").avatar):n.user.avatar=r.get("session").avatar;var e={user:n.user};return o.saveProfile(e).then(function(e){t.success("Datos modificados con exito"),n.user=e.data,r.put("session",{user:e.data.username,avatar:e.data.avatar}),a.go("perfil"),location.reload()})}function f(){var e={username:x.username,email:x.email,newpass:x.newpass,actualPass:x.actualPass};return o.saveAccount(e).then(function(e){"passfail"==e.data?t.error("La contraseña introducida no es valida"):"nochange"==e.data?(t.info("No se han introducido nuevos datos"),a.go("perfil"),a.reload()):"error"==e.data?t.error("Ups, Ha habido un error en el servidor"):(t.success("Datos modificados con exito"),n.user=e.data,a.go("perfil"),a.reload())})}function h(){var e=(x.currentPage-1)*x.pageSize,a=Math.min(e+x.pageSize-1,x.temas.length-1);x.temasPage=x.temas.slice(e,a+1)}function b(){var e=(x.currentPage-1)*x.pageSize,a=Math.min(e+x.pageSize-1,x.mensajes.todos.length-1);x.mensajesPage=x.mensajes.todos.slice(e,a+1);for(var t=0;t<x.mensajesPage.length;t++)x.mensajesPage[t].leido=0==x.mensajesPage[t].leido?"noleido":"leido"}function y(){x.pagesTemas=Math.ceil(x.temas.length/x.pageSize);for(var e=1;e<=x.pagesTemas;e++)x.maxPagesTemas.push(e)}function w(){x.pagesMessage=Math.ceil(x.mensajes.todos.length/x.pageSize);for(var e=1;e<=x.pagesMessage;e++)x.maxPagesMessage.push(e)}function $(e){"first"==e?x.currentPage=1:"prev"==e?x.currentPage=x.currentPage-1:"next"==e?x.currentPage=x.currentPage+1:"last"==e&&(x.currentPage=x.pagesTemas)}function _(e){"first"==e?x.currentPage=1:"prev"==e?x.currentPage=x.currentPage-1:"next"==e?x.currentPage=x.currentPage+1:"last"==e&&(x.currentPage=x.pagesMessage)}var x=this;x.title="Profile",x.saveProfile=v,x.saveAccount=f,x.email="",x.newpass="",x.actualPass="",x.avatar="",x.temas=[],x.currentPage=1,x.pageSize=10,x.maxPagesTemas=[],x.maxPagesMessage=[],x.pagesTemas=1,x.pagesMessage=1,x.numTemas=0,x.temasPage=[],x.currentCat="",x.mensajes=[],x.showTemas=h,x.showMessages=b,x.paginationTemas=$,x.paginationMensajes=_,x.countPagesTemas=y,x.countPagesMensajes=w,x.getMensajes=u,x.showMessage=m,x.getMessage=p,x.read_message=g,x.username=r.get("session").user,c()}angular.module("app.profile").controller("ProfileController",e),e.$inject=["$q","$state","logger","$rootScope","dataservice","$cookieStore","Upload","$uibModal","$sce"]}(),function(){"use strict";function e(e,t){e.configureStates(a(t))}function a(){return[{state:"perfil",config:{url:"/perfil",templateUrl:"app/profile/profile.html",controller:"ProfileController",controllerAs:"vm",title:"Perfil"}}]}angular.module("app.profile").run(e),e.$inject=["routerHelper","dataservice"]}(),function(){"use strict";function e(e,a,t,n,o){var r=this;r.messageCount=0,r.people=[],r.title="modal",a.closeModal=function(){o.dismiss("cancel")}}angular.module("app.users").controller("modalController",e),e.$inject=["$q","$rootScope","dataservice","logger","$uibModalInstance"]}(),function(){"use strict";function e(e,a,t,n,o,r,i,s){function l(){var e={id:s,pass:c.inputPass};t.changePass(e).then(function(e){0!=e.data.affectedRows?(n.success("La contraseña ha sido restaurada con exito"),o.go("home")):(n.error("No se ha podido restaurar la contraseña, por favor intentelo de nuevo."),o.go("home"))})}var c=this;c.changePass=l,c.inputPass="",c.messageCount=0,c.people=[],c.title="Cambiar Contraseña"}angular.module("app.users").controller("recoveryController",e),e.$inject=["$q","$rootScope","dataservice","logger","$state","$cookieStore","$uibModal","$stateParams"]}(),function(){"use strict";function e(e,a,t,n,o,r){function i(){e.socialLogin().then(function(e){r.put("session",{user:e.data.username,avatar:e.data.avatar}),n.Session=!0,n.username=e.data.username,n.avatar=e.data.avatar,n.tipo=e.data.tipo,o.success("Usuario autentificado con exito, Bienvenido a Strongertogether"),a.go("home")})}var s=this;s.title="socialController",i()}angular.module("app.users").controller("socialController",e),e.$inject=["dataservice","$state","$timeout","$rootScope","logger","$cookieStore"]}(),function(){"use strict";function e(e,a,t,n,o,r){function i(){var e={email:c.inputEmail};t.recoveryPass(e).then(function(e){e.data.email?(n.success("Peticion recibida con exito, en breve recibira un correo para poder cambiar la contraseña."),a.closeModal(),o.go("home")):n.error("Ups, ha habido un error en el server, vuelve a intentarlo más tarde")})}function s(){var e={username:c.inputUsername,email:c.inputEmail,pass:c.inputPass,avatar:"default_user.png",tipo:"usuario"};t.signUp(e).then(function(e){e.data===!0?(n.success("Usuario registrado con exito."),a.closeModal(),o.go("home")):n.error("signuperror"===e.data?"El Usuario introducido ya existe.":"Ups, ha habido un error en el server.")})}function l(){var e={user:c.inputUser,pass:c.inputPass};t.login(e).then(function(e){e.data.username!=c.inputUser&&e.data.email!=c.inputUser||void 0==e.data?n.error("loginerror"==e.data?"Ha habido un error en la autentificación, el email o la contraseña introducidos no son correctos":"Ups, ha habido un error en el server."):(r.put("session",{user:e.data.username,avatar:e.data.avatar}),a.Session=!0,a.username=e.data.username,a.avatar=e.data.avatar,a.tipo=e.data.tipo,n.success("Usuario autentificado con exito, Bienvenido de nuevo a Strongertogether"),o.go("home"),a.closeModal())
})}var c=this;c.inputEmail="",c.inpputUsername="",c.inpputUser="",c.inputPass="",c.submitSignUp=s,c.submitLogin=l,c.recoveryPassword=i,c.messageCount=0,c.people=[],c.title="login"}angular.module("app.users").controller("LoginController",e),e.$inject=["$q","$rootScope","dataservice","logger","$state","$cookieStore"]}(),function(){"use strict";function e(e){e.configureStates(a())}function a(){return[{state:"users",config:{url:"/login",templateUrl:"app/users/login.view.html",controller:"LoginController",controllerAs:"vm",title:"Login"}},{state:"socialLogin",config:{url:"/socialLogin",controller:"socialController"}},{state:"verify",config:{url:"/verify?id",controller:"verifyController"}},{state:"recovery",config:{url:"/recovery?id",templateUrl:"app/users/changePass.view.html",controller:"recoveryController"}}]}angular.module("app.users").run(e),e.$inject=["routerHelper"]}(),function(){"use strict";function e(e,a,t,n,o,r,i){function s(e){var i={token:e};t.verify(i).then(function(e){e.data.username?(n.success("Usuario verificado con exito."),r.put("session",{user:e.data.username,avatar:e.data.avatar}),a.Session=!0,a.username=e.data.username,a.avatar=e.data.avatar,a.tipo=e.data.tipo,o.go("home")):(n.error("No se ha podido verificar el usuario o ya ha sido verificado anteriormente."),o.go("home"))})}var l=this;l.verify=s,l.messageCount=0,l.people=[],l.title="verifyController",s(i)}angular.module("app.users").controller("verifyController",e),e.$inject=["$q","$rootScope","dataservice","logger","$state","$cookieStore","$stateParams"]}(),function(){"use strict";angular.module("app.widgets")}(),function(){"use strict";function e(e){function a(e,a,o){o.$observe("htImgPerson",function(e){e=t+(e||n),o.$set("src",e)})}var t=e.imageBasePath,n=e.unknownPersonImageSource,o={link:a,restrict:"A"};return o}angular.module("app.widgets").directive("htImgPerson",e),e.$inject=["config"]}(),function(){"use strict";function e(){function e(e,a){e.toggleContent=function(){if("true"===e.allowCollapse){var t=angular.element(a).siblings(".widget-content");t.toggle()}}}var a={scope:{title:"@",subtitle:"@",rightText:"@",allowCollapse:"@"},templateUrl:"app/widgets/widget-header.html",restrict:"EA",link:e};return a}angular.module("app.widgets").directive("htWidgetHeader",e)}(),angular.module("app.core").run(["$templateCache",function(e){e.put("app/admin/admin.html",'<section class=mainbar><section class=matter><div class=container><div class=row><div class="widget wviolet"><div ht-widget-header title={{vm.title}}></div><div class="widget-content user"><h3>TODO: Implement Your Features</h3></div><div class=widget-foot><div class=clearfix></div></div></div></div></div></section></section>'),e.put("app/contact/contact.html",'<div class=container style="padding: 20px 0 20px 0; font-family: Arial, Helvetica, sans-serif; !important;"><div class=iframe><span class=help-inline style="color: #50626D; font-size: 15px">Haz click en el Mapa si quieres utilizar las funciones de google maps.</span><iframe class=iframe_class width=100% height=390 frameborder=0 scrolling=no marginheight=0 marginwidth=0 src="https://www.google.com/maps/embed/v1/place?key=AIzaSyD9FGiHcq-P4ACcFAQQpY75UzzONTQrYkM&q=IES+L\'Estacio,Ontinyent,Spain"></iframe></div><div class=row><div class=col-md-12><div class="well well-sm" style=background-color:white;><form id=contact_form name=contact_form role=form><div class=row><div class=col-md-6><div class=form-group><label>Nombre</label> <input class=form-control required ng-model=vm.inputName type=text id=inputName name=inputName placeholder="Name *" maxlength=100><div class="alert alert-danger fade in block-inner" ng-show="contact_form.inputName.$error.required && (contact_form.inputName.$dirty || contact_form.inputName.$touched)"><span data-dismiss=alert>El campo es obligatorio</span></div></div><div class=form-group><label>Email</label> <input class=form-control required ng-model=vm.inputEmail type=email id=inputEmail name=inputEmail placeholder="Email *" maxlength=100 ng-pattern="/^[a-z0-9!#$%&\'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\\.[a-z0-9-]+)*$/i"><div class="alert alert-danger fade in block-inner" ng-show="contact_form.inputEmail.$error.required && (contact_form.inputEmail.$dirty || contact_form.inputEmail.$touched)"><span>El campo es obligatorio</span></div><div class="alert alert-danger fade in block-inner" ng-show=contact_form.inputEmail.$error.email><span>Email no valido</span></div></div><div class=form-group><label>Asunto</label><select class=form-control ng-model=vm.inputSubject id=inputSubject name=inputSubject><option value disabled selected>Elije una Opcion</option><option value=compra>Info relativa a tu compra</option><option value=evento>Celebra un evento con nosotros</option><option value=programacion>Contacta con nuestro dpto de programacion</option><option value=Trabaja>Trabaja con nosotros</option><option value=proyectos>Deseas proponernos proyectos</option><option value=sugerencias>Haznos sugerencias</option><option value=reclamaciones>Atendemos tus reclamaciones</option><option value=club>Club rural_shop</option><option value=sociales>Proyectos sociales</option><option value=festivos>Apertura de festivos</option><option value=novedades>Te avisamos de nuestras novedades</option><option value=diferente>Algo diferente</option></select></div></div><div class=col-md-6><div class=form-group><label>Comentario</label> <textarea rows=10 cols=25 class=form-control required ng-model=vm.inputMessage id=inputMessage name=inputMessage placeholder="Introduzca aqui su mensaje *"></textarea><div class="alert alert-danger fade in block-inner" ng-show="contact_form.inputMessage.$error.required && (contact_form.inputMessage.$dirty || contact_form.inputMessage.$touched)"><span>El campo es obligatorio</span></div></div><div class=col-md-12 ng-show="contact_form.inputName.$valid && contact_form.inputEmail.$valid && contact_form.inputMessage.$valid"><input type=submit value="Enviar Correo" class="btn btn-primary pull-right" name=submit id=submitBtn ng-click=vm.sendContact()></div><div class=form-group><div id=resultMessage ng-class=class style="display: none;">{{message}}</div></div></div></div></form></div></div></div></div><style>\r\n    .iframe_class{\r\n        width: 100%;\r\n        display: block;\r\n        pointer-events: none;\r\n        position: relative; /* IE needs a position other than static */\r\n    }\r\n    .iframe_class.clicked{\r\n        pointer-events: auto; !important;\r\n    }\r\n\r\n</style><script>\r\n    $( document ).ready(function() {\r\n\r\n        $(\'.help-inline\').hide();\r\n\r\n        $(\'.iframe\')\r\n                .mouseenter(function() {\r\n                    $(\'.help-inline\').show();\r\n                })\r\n                .click(function(){\r\n                    $(this).find(\'iframe\').addClass(\'clicked\');\r\n                })\r\n                .mouseleave(function () {\r\n                    $(this).find(\'iframe\').removeClass(\'clicked\');\r\n                    $(\'.help-inline\').hide();\r\n                });\r\n    });\r\n</script>'),e.put("app/core/404.html",'<div class="error-wrapper text-center"><br><br><h1>404</h1><h4>Oops, ha habido un error, la pagina no existe!</h4><br><div class=error-content><div class=row><div class=col-md-12><a href="/" class="btn btn-danger btn-block">Vuelve a la pagina principal</a></div></div></div></div>'),e.put("app/foro/comentario.html",'<style>\r\n    .form-horizontal .form-group {\r\n        margin-right: 10px;\r\n        margin-left: 10px;\r\n    }\r\n</style><div class=page-container ng-controller="temaController as vm"><form class=form-horizontal role=form id=form_comentario name=form_comentario style="margin: 0 10px 10px 10px;"><br><div style="width: 100%;" class="panel panel-default"><div class=panel-heading><h6 class=panel-title><i class=icon-pencil></i> Comentar</h6></div><div class=panel-body><div class=block-inner><div id=contenido name=contenido summernote config=vm.options ng-model=vm.contenido on-image-upload=vm.imageUpload(files) editable=editable editor=editor required></div><p><span class=text-danger ng-show="form_comentario.contenido.$error.required && (form_comentario.contenido.$dirty || form_comentario.contenido.$touched)">El campo es obligatorio</span></p></div><div class="form-actions text-right"><a href="/tema?id={{ vm.tema.id }}" type=submit class="btn btn-danger">Cancelar</a> <button type=submit class="btn btn-primary" ng-click=vm.comentario() ng-disabled=form_comentario.contenido.$invalid>Comentar</button></div></div></div></form></div>'),e.put("app/foro/editar_comentario.html",'<style>\r\n    .form-horizontal .form-group {\r\n        margin-right: 10px;\r\n        margin-left: 10px;\r\n    }\r\n</style><div class=page-container ng-controller="editarComentarioController as vm"><form class=form-horizontal role=form id=form_editar_comentario name=form_editar_comentario style="margin: 0 10px 10px 10px;"><br><div style="width: 100%;" class="panel panel-default"><div class=panel-heading><h6 class=panel-title><i class=icon-pencil></i> Editar Comentario</h6></div><div class=panel-body><div class=block-inner><div id=contenido name=contenido summernote config=vm.options ng-model=vm.comentario.contenido on-image-upload=vm.imageUpload(files) editable=editable editor=editor required></div><p><span class=text-danger ng-show="form_editar_comentario.contenido.$error.required && (form_editar_comentario.contenido.$dirty || form_editar_comentario.contenido.$touched)">El campo es obligatorio</span></p></div><div class="form-actions text-right"><a href="/tema?id={{ vm.tema }}" type=submit class="btn btn-danger">Cancelar</a> <button type=submit class="btn btn-primary" ng-click=vm.editar_comentario() ng-disabled=form_editar_comentario.contenido.$invalid>Editar Comentario</button></div></div></div></form></div>'),e.put("app/foro/editar_tema.html",'<style>\r\n    .form-horizontal .form-group {\r\n        margin-right: 10px;\r\n        margin-left: 10px;\r\n    }\r\n</style><div class=page-container ng-controller="temaController as vm"><form class=form-horizontal role=form id=form_editar_tema name=form_editar_tema style="margin: 0 10px 10px 10px;"><br><div style="width: 100%;" class="panel panel-default"><div class=panel-heading><h6 class=panel-title><i class=icon-pencil></i> Editar Tema</h6></div><div class=panel-body><div class=form-group><div class=col-md-6><label>Titulo Tema</label> <input id=titulo name=titulo type=text ng-model=vm.tema.titulo class=form-control required><p><span class=text-danger ng-show="form_editar_tema.titulo.$error.required && (form_editar_tema.titulo.$dirty || form_editar_tema.titulo.$touched)">El campo es obligatorio</span></p></div></div><div class=block-inner><div id=contenido name=contenido summernote config=vm.options ng-model=vm.tema.contenido on-image-upload=vm.imageUpload(files) editable=editable editor=editor required></div><p><span class=text-danger ng-show="form_editar_tema.contenido.$error.required && (form_editar_tema.contenido.$dirty || form_editar_tema.contenido.$touched)">El campo es obligatorio</span></p></div><div class="form-actions text-right"><a href="/tema?id={{ vm.tema.id }}" type=submit class="btn btn-danger">Cancelar</a> <button type=submit class="btn btn-primary" ng-click=vm.editar_tema() ng-disabled="form_editar_tema.titulo.$invalid || (form_editar_tema.contenido.$invalid)">Editar Tema</button></div></div></div></form></div>'),e.put("app/foro/foro.html",'<div class=page-container ng-controller="ForoController as vm"><div class=row><div class=col-md-2><div class=block><ul class="nav nav-list categorias"><li class=nav-header>Categorias <i class=icon-menu></i></li><li ng-repeat="categoria in vm.categorias" ng-click=vm.getTemas(categoria.id)><a href>{{ categoria.nombre }}<span class="label label-info">{{ categoria.temas }}</span></a></li></ul></div><div class=text-left><a href="/nuevo_tema?categoria={{ vm.currentCat }}" ng-disabled=!vm.username class="btn btn-primary crear_tema"><i class=icon-quill2></i> Crear Tema</a> <small ng-show="vm.username == \'\'">Debes iniciar sesión para poder comentar o crear temas.</small></div></div><br><div class=col-md-10 style="padding-right: 20px !important;"><label><h4>Buscar Temas:</h4></label> <input class=search_temas ng-model=query><div class=tab-content><div class="panel panel-default"><div class=panel-heading><h6 class=panel-title><i class=icon-bubbles4></i>Temas</h6></div><div class=datatable><table class="table table-hover"><thead><tr><th><h2>Tema</h2></th><th><h2>Autor</h2></th><th><h2>Comentarios</h2></th><th><h2>Votos</h2></th></tr></thead><tbody><tr ng-repeat="tema in vm.temasPage | filter:query"><td><a href="/tema?id={{ tema.id }}"><h2>{{ tema.titulo }}</h2></a></td><td><h6>{{ tema.autor }}</h6></td><td><h6><label class=text-center>{{ tema.comentarios }}</label></h6></td><td><h6><label>{{ tema.votos }}</label></h6></td></tr></tbody></table></div></div></div><br><div class=btn-group><button type=button class="btn btn-primary" ng-disabled="vm.currentPage == 1" ng-click="vm.pagination(\'first\'); vm.showTemas()"><i class=icon-arrow-first></i></button> <button type=button class="btn btn-primary" ng-disabled="vm.currentPage == 1" ng-click="vm.pagination(\'prev\'); vm.showTemas()"><i class=icon-arrow-left></i></button> <button ng-repeat="pagina in vm.maxPages" type=button class="btn btn-primary active" ng-click="vm.currentPage = pagina; vm.showTemas()">{{ pagina }}</button> <button type=button class="btn btn-primary" ng-disabled="vm.currentPage >= vm.pages" ng-click="vm.pagination(\'next\'); vm.showTemas()"><i class=icon-arrow-right2></i></button> <button type=button class="btn btn-primary" ng-disabled="vm.currentPage >= vm.pages" ng-click="vm.pagination(\'last\'); vm.showTemas()"><i class=icon-arrow-right></i></button></div></div></div></div>'),e.put("app/foro/newTema.html",'<style>\r\n    .form-horizontal .form-group {\r\n        margin-right: 10px;\r\n        margin-left: 10px;\r\n    }\r\n</style><div class=page-container ng-controller="crearTemaController as vm"><form class=form-horizontal role=form id=form_crearTema name=form_crearTema style="margin: 0 10px 10px 10px;"><br><div style="width: 100%;" class="panel panel-default"><div class=panel-heading><h6 class=panel-title><i class=icon-pencil></i> Crear Tema</h6></div><div class=panel-body><div class=form-group><div class=col-md-6><label>Titulo Tema</label> <input id=titulo name=titulo type=text ng-model=vm.titulo class=form-control required><p><span class=text-danger ng-show="form_crearTema.titulo.$error.required && (form_crearTema.titulo.$dirty || form_crearTema.titulo.$touched)">El campo es obligatorio</span></p></div></div><div class=block-inner><div id=contenido name=contenido summernote config=vm.options ng-model=vm.contenido on-image-upload=vm.imageUpload(files) editable=editable editor=editor required></div><p><span class=text-danger ng-show="form_crearTema.contenido.$error.required && (form_crearTema.contenido.$dirty || form_crearTema.contenido.$touched)">El campo es obligatorio</span></p></div><div class="form-actions text-right"><a href=/foros type=submit class="btn btn-danger">Cancelar</a> <button type=submit class="btn btn-primary" ng-click=vm.crearTema() ng-disabled="form_crearTema.titulo.$invalid || (form_crearTema.contenido.$invalid)">Crear Tema</button></div></div></div></form></div>'),e.put("app/foro/tema.html",'<div class=page-container ng-controller="temaController as vm"><div class=form-horizontal><br><div style="width: 100%;" class="panel panel-default"><div class=panel-body><div class="row invoice-header"><div class=col-sm-12><h2 class=titulo_tema>{{ vm.tema.titulo }}</h2></div></div><div class=contenido_tema><div class="clearfix info_user_tema"><div class=chat-member><a href=#><img class=avatar_autor alt src="src/server/uploads/avatars/{{ vm.user.avatar }}"></a><h6><a href=#>{{ vm.tema.autor }}&nbsp;<span class="status status-success"></span></a></h6></div><div class=chat-actions><a href="/enviar_mensaje?user={{vm.tema.autor}}&tema={{vm.tema.id}}" ng-disabled="vm.username == vm.tema.autor" class="btn btn-link btn-icon btn-xs" data-toggle=collapse><i class=icon-bubble3></i></a> <a href=# class="btn btn-link btn-icon btn-xs" ng-disabled="vm.username == vm.tema.autor"><i class=icon-bullhorn></i></a> <a href=# ng-click=vm.addFriend(vm.tema.autor) ng-disabled="vm.username == vm.tema.autor" class="btn btn-link btn-icon btn-xs"><i class=icon-user-plus2></i></a></div></div><hr><div class="form-group comentario_box"><div class="col-md-9 contenido_comentario" ng-bind-html=vm.contentTema></div></div><div class="form-actions text-right"><a href="/editar_tema?id={{ vm.tema.id }}" ng-show="vm.username == vm.tema.autor" class="btn btn-primary editar_tema">Editar</a></div></div><br><br><h2>COMENTARIOS</h2><hr><div class=comentario ng-repeat="comentario in vm.coment"><div class="clearfix info_user_tema"><div class=chat-member><a href=#><img class=avatar_comentario alt src="src/server/uploads/avatars/{{ comentario.avatar }}"></a><h6><a href=#>{{ comentario.autor }}&nbsp;<span class="status status-success"></span></a></h6></div><div class=chat-actions><a href="/enviar_mensaje?user={{comentario.autor}}&tema={{vm.tema.id}}" ng-disabled="vm.username == comentario.autor" class="btn btn-link btn-icon btn-xs" data-toggle=collapse><i class=icon-bubble3></i></a> <a href=# class="btn btn-link btn-icon btn-xs" ng-disabled="vm.username == comentario.autor"><i class=icon-bullhorn></i></a> <a href=# ng-click=vm.addFriend(comentario.autor) ng-disabled="vm.username == comentario.autor" class="btn btn-link btn-icon btn-xs"><i class=icon-user-plus2></i></a></div></div><div class="form-group comentario_box"><div class="col-md-9 contenido_comentario" ng-bind-html=comentario.contenido></div></div><div class="form-actions text-right"><a href="/editar_comentario?id={{ comentario.comentario}}&tema={{vm.tema.id}}" ng-show="vm.username == comentario.autor" class="btn btn-primary editar_tema">Editar</a></div></div><br></div></div><div class="form-actions text-right"><a href=/foros type=submit class="btn btn-danger">Volver</a> <a href="/nuevo_comentario?id={{ vm.tema.id }}" ng-disabled=!vm.username class="btn btn-primary">Comentar</a></div></div></div>'),e.put("app/home/home.html",""),e.put("app/hospitals/hospitals.html",'<link href=/src/client/styles/hospital.css rel=stylesheet type=text/css><div class="panel panel-primary"></div><section id=main class=wrapper><div class=container><header class=major><h2 class=hospital_title>Hospitals Google Maps</h2><div class=flexsearch><div class=flexsearch--wrapper><div class=flexsearch--input-wrapper><input type=search class=filtre ng-model=filtro placeholder="Search Hospital..."></div></div></div><br></header><div class="image fit"><div id=ubicacion></div><div id=demo></div><div id=mapholder><ui-gmap-google-map center=vm.map.center zoom=vm.map.zoom><ui-gmap-markers models=testMarkers coords="\'self\'" icon="\'icon\'" events=vm.map.markersEvents><ui-gmap-window show=vm.map.windows.show coords=vm.map.windows.model><div class=HospitalsBoxInfo><h4>Hospital Information</h4><div>Name: {{vm.infoWindow.name}}</div><div>Direction: {{vm.infoWindow.city}}</div></div></ui-gmap-window></ui-gmap-markers></ui-gmap-google-map></div><div class=hospitals><div class=of ng-repeat="hospital in vm.filteredHospitals| filter:{name:filtro}" id={{hospital.id}}><div><div ng-click=vm.infoMarker(hospital.id) class=desc>{{hospital.name}}</div></div></div></div></div></div></section>'),e.put("app/hospitals/infoHospitals.html",'<div class=of ng-controller="hospitalsController as vm"><div><h1>Hospital Information</h1><img src={{selectedHospital.description}}><div><h3>Name:</h3>{{selectedHospital.name}}</div><div><h3>Direction:</h3>{{selectedHospital.city}}</div></div></div>'),e.put("app/layout/ht-top-nav.html",""),e.put("app/layout/shell.html",'<div ng-controller="ShellController as vm"><header class=clearfix><ht-top-nav navline=vm.navline></ht-top-nav></header><section id=content class=content><div ng-include="\'app/layout/sidebar.html\'"></div><div ui-view class=shuffle-animation></div><div ngplus-overlay ngplus-overlay-delay-in=50 ngplus-overlay-delay-out=700 ngplus-overlay-animation=dissolve-animation><img src=images/busy.gif><div class="page-spinner-message overlay-message">{{vm.busyMessage}}</div></div></section></div>'),e.put("app/layout/sidebar.html",'<div ng-controller="SidebarController as vm" class="navbar navbar-inverse" role=navigation style="position: relative; z-index: 99;"><div class=navbar-header><a class=navbar-brand href="/">Strongertogether</a> <button type=button class=navbar-toggle data-toggle=collapse data-target=#navbar-menu-right><span class=sr-only>Toggle navigation</span> <i class=icon-user></i></button> <button type=button class=navbar-toggle data-toggle=collapse data-target=#navbar-menu-left><span class=sr-only>Toggle navbar</span> <i class=icon-grid3></i></button></div><ul class="nav navbar-nav collapse" id=navbar-menu-left><li><a href="/"><i class=icon-home2></i> <span>Home</span></a></li><li><a href=/hospitales><i class=icon-location></i> <span>Hospitales</span></a></li><li><a href=/foros><i class=icon-library></i> <span>Foro</span></a></li><li><a href=/contacto><i class=icon-phone2></i> <span>Contacto</span></a></li></ul><ul class="nav navbar-nav navbar-icons navbar-right collapse" id=navbar-menu-right><li class=dropdown ng-show=Session><a class=dropdown-toggle data-toggle=dropdown><i class=icon-bell></i> <span class="label label-default">1</span></a><div class="popup dropdown-menu dropdown-menu-right"><div class=popup-header><a href=# class=pull-left><i class=icon-spinner7></i></a> <span>Actividad</span> <a href=# class=pull-right><i class=icon-paragraph-justify></i></a></div><ul class=activity><li><i class=icon-thumbs-up3></i><div><a href=#>Lluis</a> se ha votado a si mismo en el siguiente tema: <a href=#>proba</a> <span>14 minutes ago</span></div></li></ul></div></li><li class=dropdown ng-show=Session><a class=dropdown-toggle data-toggle=dropdown><i class=icon-envelop></i> <span class="label label-danger" style="background-color: #D65C4F !important;" ng-show="vm.mensajes.mensajes >= 1">{{ vm.mensajes.mensajes }}</span></a><div class="popup dropdown-menu dropdown-menu-right"><div class=popup-header><a href=# class=pull-left><i class=icon-spinner7></i></a> <span>Mensajes</span> <a href=# class=pull-right><i class=icon-new-tab></i></a></div><ul class=popup-messages><li ng-repeat="mensaje in vm.mensajes.noleidos"><a href=# ng-click=vm.showMessage(mensaje.id)><img src="src/server/uploads/avatars/{{ mensaje.avatar }}" alt class=user-face> <strong>{{ mensaje.autor }}<i class=icon-attachment2></i></strong> <span>Asunto: {{ mensaje.asunto }}</span></a></li></ul></div></li><li class="user dropdown" ng-show=!Session href ng-click=vm.openModal()><a class=dropdown-toggle data-toggle=dropdown><span>Iniciar Sesión</span></a></li><li class="user dropdown" ng-show=Session><a class=dropdown-toggle data-toggle=dropdown><img src="src/server/uploads/avatars/{{ avatar }}" alt> <span>{{ username }}</span> <i class=caret></i></a><ul class="dropdown-menu dropdown-menu-right icons-right"><li><a href=/perfil><i class=icon-user></i> Perfil</a></li><li><a href=/amigos><i class=icon-users></i> Lista Amigos</a></li><li><a href=/mensajes><i class=icon-envelop></i> Mensajes</a></li><li><a href ng-click=vm.logout()><i class=icon-exit></i> Cerrar Sesión</a></li></ul></li></ul></div>'),e.put("app/mensaje/enviar_mensaje.html",'<style>\r\n    .form-horizontal .form-group {\r\n        margin-right: 10px;\r\n        margin-left: 10px;\r\n    }\r\n</style><div class=page-container ng-controller="mensajeController as vm"><form class=form-horizontal role=form id=form_sendMessage name=form_sendMessage style="margin: 0 10px 10px 10px;"><br><div style="width: 100%;" class="panel panel-default"><div class=panel-heading><h6 class=panel-title><i class=icon-pencil></i>Enviar Mensaje</h6></div><div class=panel-body><div class=form-group><div class=col-md-6><label>Asunto</label> <input id=asunto name=asunto type=text ng-model=vm.asunto class=form-control required><p><span class=text-danger ng-show="form_sendMessage.titulo.$error.required && (form_sendMessage.titulo.$dirty || form_sendMessage.titulo.$touched)">El campo es obligatorio</span></p></div></div><div class=block-inner><div id=mensaje name=mensaje summernote config=vm.options ng-model=vm.mensaje on-image-upload=vm.imageUpload(files) editable=editable editor=editor required></div><p><span class=text-danger ng-show="form_sendMessage.mensaje.$error.required && (form_sendMessage.mensaje.$dirty || form_sendMessage.mensaje.$touched)">El campo es obligatorio</span></p></div><div class="form-actions text-right"><a href="/tema?id={{ vm.tema }}" type=submit class="btn btn-danger">Cancelar</a> <button type=submit class="btn btn-primary" ng-click=vm.sendMessage() ng-disabled="form_sendMessage.asunto.$invalid || (form_sendMessage.mensaje.$invalid)">Enviar Mensaje</button></div></div></div></form></div>'),e.put("app/profile/profile.html",'<div ng-controller="ProfileController as vm" class=page-container style="width: 98.9%; !important;"><div class=row><div class=col-md-2><div class=block><div class=block><div class=thumbnail><div class=thumb><img alt src="src/server/uploads/avatars/{{ avatar }}"></div><div class="caption text-center"><h6>{{ username }} <small>{{ user.description }}</small></h6><div class=icons-group><a href=# title=facebook class=tip><i class=icon-facebook2></i></a> <a href=# title=Twitter class=tip><i class=icon-twitter2></i></a> <a href=# title=google class=tip><i class=icon-google-plus3></i></a></div></div></div></div><ul class="nav nav-list"><li class=nav-header>Actividad <i class=icon-accessibility></i></li><li><a class=active href=#activity data-toggle=tab>Actividad</a></li><li><a href=#>Amigos</a></li><li><a href=#temas data-toggle=tab>Mis Temas <span class="label label-success">{{ vm.temas.length }}</span></a></li><li><a href=#mensajes data-toggle=tab>Mensajes <span class="label label-danger">{{ vm.mensajes.mensajes }}</span></a></li></ul><ul class="nav nav-list"><li class=nav-header>Configuración y Privacidad <i class=icon-cogs></i></li><li><a href=#infouser data-toggle=tab>Información Personal</a></li><li><a href=#>Privacidad</a></li><li><a href=#cuenta data-toggle=tab>Cuenta</a></li></ul></div></div><br><div class=col-md-10><div class=tab-content><div class="tab-pane fade in" id=activity></div><div class="tab-pane fade in" id=infouser><form class=block role=form id=perfil_form name=perfil_form style="margin: 0 10px 10px 10px;"><h6 class=heading-hr><i class=icon-user></i> Información Personal:</h6><div class=block-inner><div class=form-group><div class=row><div class=col-md-6><label>Nombre</label> <input id=name name=name type=text ng-pattern="/^[aA-zZñÑ]{1,20}$/" ng-model=user.name class=form-control><p><span class=text-danger ng-show=perfil_form.name.$error.pattern>Nombre no valido</span></p></div><div class=col-md-6><label>Apellido</label> <input id=surname name=surname type=text ng-pattern="/^[aA-zZñÑ]{1,20}$/" ng-model=user.surname class=form-control><p><span class=text-danger ng-show=perfil_form.surname.$error.pattern>Apellido no valido</span></p></div></div></div><div class=form-group><div class=row><div class=col-md-6><label>Ciudad</label> <input id=city name=city type=text ng-pattern="/^[aA-zZñÑ]{1,20}$/" ng-model=user.city class=form-control><p><span class=text-danger ng-show=perfil_form.city.$error.pattern>Ciudad no valida</span></p></div><div class=col-md-6><label>País:</label><country-select class=form-control cs-priorities=ES id=country ng-model=user.country name=country><option value disabled selected>Select your option</option></country-select></div></div></div><div class=form-group><div class=row><div class=col-md-12><label>Descripción</label> <textarea id=description name=description rows=8 cols=20 ng-model=user.description class=form-control></textarea></div></div></div><div class=form-group><label>Avatar</label><br><a ngf-select ng-model=vm.avatar id=avatar name=avatar ngf-pattern="\'image/*\'" ngf-max-size=2MB><img style=width:100px; ng-show=!!vm.avatar ngf-thumbnail="vm.avatar || \'src/server/uploads/avatars/{{ avatar }}\'"></a> <i ng-show=perfil_form.avatar.$error.maxSize>La imagen es demasiado grande {{vm.avatar.size / 1000000|number:1}}Peso Maximo: 2M</i><p>{{vm.progress}}</p></div></div><div class=text-right style="padding: 10px 10px 10px 0;"><a href="/" class="btn btn-default">Cancelar</a> <input type=submit id=save name=save value=Guardar class="btn btn-success" ng-click=vm.saveProfile()></div></form></div><div class="tab-pane fade in" id=cuenta><form class=block role=form id=personalInfo_form name=personalInfo_form style="margin: 0 10px 10px 10px;"><h6 class=heading-hr><i class=icon-user></i> Información de la Cuenta:</h6><div class=block-inner><div class=form-group><div class=row><div class=col-md-6><label>Email</label> <input id=email name=email type=email ng-pattern="/^[a-z0-9!#$%&\'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\\.[a-z0-9-]+)*$/i" ng-model=vm.email class=form-control><p><span class=text-danger ng-show=personalInfo_form.email.$error.pattern>Email no valido</span></p></div></div></div><div class=form-group><div class=row><div class=col-md-6><label>Nueva Contraseña</label> <input id=newpass name=newpass type=password ng-model=vm.newpass ng-pattern="/^.{6,50}$/" class=form-control><p><span class=text-danger ng-show=personalInfo_form.newpass.$error.pattern>Contraseña no válida</span></p></div><div class=col-md-6><label>Repita la nueva Contraseña</label> <input id=newpass2 name=newpass2 type=password ng-model=vm.newpass2 ng-pattern="/^.{6,50}$/" class=form-control><p><span class=text-danger data-ng-show="personalInfo_form.newpass.$valid && vm.newpass !== vm.newpass2">Las contraseñas no coinciden</span></p></div></div></div><div class=form-group><div class=row><div class=col-md-6><label>Contraseña Actual</label> <input id=actualPass name=actualPass type=password ng-pattern="/^.{6,12}$/" ng-model=vm.actualPass class=form-control required><p><span class=text-danger ng-show="personalInfo_form.actualPass.$error.required && (personalInfo_form.actualPass.$dirty || personalInfo_form.actualPass.$touched)">El campo es obligatorio</span></p><p><span class=text-danger ng-show=personalInfo_form.actualPass.$error.pattern>Contraseña no válida</span></p></div></div></div></div><div class=text-right style="padding: 10px 10px 10px 0;"><a href=/perfil class="btn btn-default">Cancelar</a> <input type=submit id=savePersonalInfo name=savePersonalInfo value=Guardar class="btn btn-success" ng-disabled="personalInfo_form.actualPass.$invalid && vm.newpass != vm.newpass2" ng-click=vm.saveAccount()></div></form></div><div class="tab-pane fade in" id=temas><div class=block><div class="panel panel-default"><div class=panel-heading><h6 class=panel-title><i class=icon-bubbles4></i>Temas</h6></div><div class=datatable><table class="table table-hover"><thead><tr><th><h4>Tema</h4></th><th><h4>Categoria</h4></th><th><h4>Comentarios</h4></th><th><h4>Votos</h4></th></tr></thead><tbody><tr ng-repeat="tema in vm.temasPage"><td><a href="/tema?id={{ tema.id }}"><h2>{{ tema.titulo }}</h2></a></td><td><h6>{{ tema.nombre }}</h6></td><td><h6><label class=text-center>{{ tema.comentarios }}</label></h6></td><td><h6><label>{{ tema.votos }}</label></h6></td></tr></tbody></table></div></div><br><div class=btn-group><button type=button class="btn btn-primary" ng-disabled="vm.currentPage == 1" ng-click="vm.paginationTemas(\'first\'); vm.showTemas()"><i class=icon-arrow-first></i></button> <button type=button class="btn btn-primary" ng-disabled="vm.currentPage == 1" ng-click="vm.paginationTemas(\'prev\'); vm.showTemas()"><i class=icon-arrow-left></i></button> <button ng-repeat="pagina in vm.maxPagesTemas" type=button class="btn btn-primary active" ng-click="vm.currentPage = pagina; vm.showTemas()">{{ pagina }}</button> <button type=button class="btn btn-primary" ng-disabled="vm.currentPage >= vm.pagesTemas" ng-click="vm.paginationTemas(\'next\'); vm.showTemas()"><i class=icon-arrow-right2></i></button> <button type=button class="btn btn-primary" ng-disabled="vm.currentPage >= vm.pagesTemas" ng-click="vm.paginationTemas(\'last\'); vm.showTemas()"><i class=icon-arrow-right></i></button></div></div></div><div class="tab-pane fade in" id=mensajes><div class=block><div class="panel panel-default"><div class=panel-heading><h6 class=panel-title><i class=icon-envelop></i>Mensajes</h6></div><div class=datatable><table class="table table-hover"><thead><tr><th><h4>Asunto</h4></th><th><h4>Enviado Por</h4></th></tr></thead><tbody><tr class={{mensaje.leido}} ng-repeat="mensaje in vm.mensajes.todos"><td><a href=# ng-click=vm.showMessage(mensaje.id)><h4>{{mensaje.asunto}}</h4></a></td><td><h6>{{ mensaje.autor }}</h6></td></tr></tbody></table></div></div><br><div class=btn-group><button type=button class="btn btn-primary" ng-disabled="vm.currentPage == 1" ng-click="vm.paginationMensajes(\'first\'); vm.showMessages()"><i class=icon-arrow-first></i></button> <button type=button class="btn btn-primary" ng-disabled="vm.currentPage == 1" ng-click="vm.paginationMensajes(\'prev\'); vm.showMessages()"><i class=icon-arrow-left></i></button> <button ng-repeat="pagina in vm.maxPagesMessage" type=button class="btn btn-primary active" ng-click="vm.currentPage = pagina; vm.showMessages()">{{ pagina }}</button> <button type=button class="btn btn-primary" ng-disabled="vm.currentPage >= vm.pagesMessage" ng-click="vm.paginationMensajes(\'next\'); vm.showMessages()"><i class=icon-arrow-right2></i></button> <button type=button class="btn btn-primary" ng-disabled="vm.currentPage >= vm.pagesMessage" ng-click="vm.paginationMensajes(\'last\'); vm.showMessages()"><i class=icon-arrow-right></i></button></div></div></div></div></div></div></div>'),e.put("app/profile/showMessage.html",'<div class=modal-content ng-controller="ProfileController as vm"><div class=modal-header><button type=button class=close data-dismiss=modal aria-label=Close><span aria-hidden=true ng-click=closeModal()>&times;</span></button><h4 class=modal-title>Mensaje de {{ autor }}</h4></div><div class=modal-body><div class=content_box><div class=col-md-12><div class=asunto_box><label>Asunto:</label> {{ asunto }}</div></div><div class=col-md-12><div class=autor_box><label>Enviado por:</label> {{autor}}</div></div><div class=col-md-12><div class=mensaje_box ng-bind-html=mensaje></div></div></div></div><div class=modal-footer><button type=button class="btn btn-default" data-dismiss=modal ng-click=closeModal()>Cerrar</button> <a href="/enviar_mensaje?user={{autor}}" ng-click=closeModal() type=button class="btn btn-primary">Responder</a></div></div>'),e.put("app/users/changePass.view.html",'<link rel=stylesheet href=/src/client/styles/login.css><button type=button style=margin-right:10px; class=close data-dismiss=modal aria-label=Close ng-click=closeModal()><span aria-hidden=true>&times;</span></button><div class=loginmodal-container><h1>Restaurar Contraseña</h1><br><form ng-controller="recoveryController as vm" id=recovery_pass name=recovery_pass><input ng-model=vm.inputPass ng-pattern="/^.{6,12}$/" type=password id=inputPass name=inputPass placeholder=Contraseña value required><p><span class=text-danger ng-show="recovery_pass.inputPass.$error.required && (recovery_pass.inputPass.$dirty || recovery_pass.inputPass.$touched)">El campo es obligatorio</span></p><p><span class=text-danger ng-show=recovery_pass.inputPass.$error.pattern>Password no válido</span></p><input ng-model=vm.inputPass2 ng-pattern="/^.{6,12}$/" type=password id=inputPass2 name=inputPass2 placeholder="Repita la Contraseña" value required><p><span class=text-danger ng-show="recovery_pass.inputPass2.$error.required && (recovery_pass.inputPass2.$dirty || recovery_pass.inputPass2.$touched)">El campo es obligatorio</span></p><p><span class=text-danger data-ng-show="recovery_pass.inputPass.$valid && vm.inputPass !== vm.inputPass2">Las contraseñas no coinciden</span></p><input type=submit id=submit_changepass name=submit_changepass class="login loginmodal-submit" ng-disabled="recovery_pass.inputPass.$invalid || recovery_pass.inputPass2.$invalid || vm.inputPass != vm.inputPass2" value="Cambiar Contraseña" ng-click=vm.changePass();></form></div>'),e.put("app/users/login.view.html",'<button type=button style=margin-right:10px; class=close data-dismiss=modal aria-label=Close ng-click=closeModal()><span aria-hidden=true>&times;</span></button><div class=loginmodal-container><h1>Inicia Sesión en Strongertogether</h1><br><form ng-controller="LoginController as vm" id=login_form name=login_form><input class=logintext required ng-model=vm.inputUser type=text id=inputUser name=inputUser placeholder="Introduce tu Email o Nombre de Usuario" maxlength=100> <span class=text-danger ng-show="login_form.inputUser.$error.required && (login_form.inputUser.$dirty || login_form.inputUser.$touched)">El campo es obligatorio</span> <span class=text-danger ng-show=login_form.inputUser.$error.user>Email no valido</span> <span class=text-danger ng-show=AlertMessage ng-model=login_form.user_error>{{login_form.user_error}}</span> <input class=logintext ng-model=vm.inputPass ng-pattern="/^.{6,12}$/" type=password id=inputPass name=inputPass placeholder=Contraseña value required> <span class=text-danger ng-show="login_form.inputPass.$error.required && (login_form.inputPass.$dirty || login_form.inputPass.$touched)">El campo es obligatorio</span> <span class=text-danger ng-show=login_form.inputPass.$error.pattern>Password no válido</span><br><span class=text-danger ng-show=AlertMessage ng-model=login_form.pass_error>{{login_form.pass_error}}</span> <input type=submit id=submitLogin name=submitLogin class="login loginmodal-submit" value=Login ng-click=vm.submitLogin()></form><div ng-controller="SidebarController as vm" ng-view class=login-help><br><p>Aun no te has registrado? <a class=enlace ng-click="vm.openSignUp(); closeModal()" href=#>Registrate aqui!</a></p><p>Has olvidado la contraseña? <a class=enlace ng-click="vm.openRecoveryPass(); closeModal()" href=#>Pincha Aquí!</a></p><br></div><h6>Conectate con Facebook o Twitter</h6><div class="btn-group btn-group-justified"><div class=btn-group><a type=button target=_self class="btn btn-primary" href=/auth/facebook><i class=icon-facebook2></i> Facebook</a></div><div class=btn-group><a class="btn btn-info" target=_self href=/auth/twitter><i class=icon-twitter2></i> Twitter</a></div></div></div>'),e.put("app/users/recoveryPassword.view.html",'<link rel=stylesheet href=/src/client/styles/login.css><button type=button style=margin-right:10px; class=close data-dismiss=modal aria-label=Close ng-click=closeModal()><span aria-hidden=true>&times;</span></button><div class=loginmodal-container><h1>Recuperación de la Contraseña</h1><br><form ng-controller="LoginController as vm" id=recoveryPass name=recoveryPass><input required ng-model=vm.inputEmail type=email id=inputEmail name=inputEmail placeholder=Email maxlength=100 ng-pattern="/^[a-z0-9!#$%&\'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\\.[a-z0-9-]+)*$/i"><p><span class=text-danger ng-show="recoveryPass.inputEmail.$error.required && (recoveryPass.inputEmail.$dirty || recoveryPass.inputEmail.$touched)">El campo es obligatorio</span></p><p><span class=text-danger ng-show=recoveryPass.inputEmail.$error.email>Email no valido</span></p><input type=submit id=submit_signup name=submit_signup class="login loginmodal-submit" ng-disabled=recoveryPass.inputEmail.$invalid value=Enviar ng-click=vm.recoveryPassword();></form><div ng-controller="SidebarController as vm" class=login-help><p>Volver al login <a ng-click="vm.openModal(); closeModal()" href=#>Iniciar Sesión</a></p><br></div></div>'),e.put("app/users/sign_up.view.html",'<link rel=stylesheet href=/src/client/styles/login.css><button type=button style=margin-right:10px; class=close data-dismiss=modal aria-label=Close ng-click=closeModal()><span aria-hidden=true>&times;</span></button><div class=loginmodal-container><h1>Registrate Gratis Ya</h1><br><form ng-controller="LoginController as vm" id=signup_form name=signup_form><input class=logintext ng-model=vm.inputUsername ng-pattern="/^[aA-zZñÑ0-9]{6,50}$/" type=text id=inputUsername name=inputUsername placeholder="Nombre de Usuario" value required><p><span class=text-danger ng-show="signup_form.inputUsername.$error.required && (signup_form.inputUsername.$dirty || signup_form.inputUsername.$touched)">El campo es obligatorio</span></p><p><span class=text-danger ng-show=signup_form.inputUsername.$error.pattern>Usuario no valido</span></p><input required ng-model=vm.inputEmail type=email id=inputEmail name=inputEmail placeholder=Email maxlength=100 ng-pattern="/^[a-z0-9!#$%&\'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\\.[a-z0-9-]+)*$/i"><p><span class=text-danger ng-show="signup_form.inputEmail.$error.required && (signup_form.inputEmail.$dirty || signup_form.inputEmail.$touched)">El campo es obligatorio</span></p><p><span class=text-danger ng-show=signup_form.inputEmail.$error.email>Email no valido</span></p><input class=logintext ng-model=vm.inputPass ng-pattern="/^.{6,50}$/" type=password id=inputPass name=inputPass placeholder=Contraseña value required><p><span class=text-danger ng-show="signup_form.inputPass.$error.required && (signup_form.inputPass.$dirty || signup_form.inputPass.$touched)">El campo es obligatorio</span></p><p><span class=text-danger ng-show=signup_form.inputPass.$error.pattern>Password no válido</span></p><input class=logintext ng-model=vm.inputPass2 ng-pattern="/^.{6,12}$/" type=password id=inputPass2 name=inputPass2 placeholder="Repita la Contraseña" value required><p><span class=text-danger ng-show="signup_form.inputPass2.$error.required && (signup_form.inputPass2.$dirty || signup_form.inputPass2.$touched)">El campo es obligatorio</span></p><p><span class=text-danger data-ng-show="signup_form.inputPass.$valid && vm.inputPass !== vm.inputPass2">Las contraseñas no coinciden</span></p><input type=submit id=submit_signup name=submit_signup class="login loginmodal-submit" ng-disabled="signup_form.inputEmail.$invalid || signup_form.inputPass.$invalid || signup_form.inputPass2.$invalid || vm.inputPass != vm.inputPass2" value="Sign Up" ng-click=vm.submitSignUp();></form><div ng-controller="SidebarController as vm" class=login-help><p>Ready Registered? <a ng-click="vm.openModal(); closeModal()" href=#>Sign In</a></p><br></div></div>'),e.put("app/widgets/widget-header.html",'<div class=widget-head ng-class="{\'collapsive\': allowCollapse === \'true\'}" ng-click=toggleContent()><div class="page-title pull-left">{{title}}</div><small class=page-title-subtle ng-show=subtitle>({{subtitle}})</small><div class="widget-icons pull-right"></div><small class="pull-right page-title-subtle" ng-show=rightText>{{rightText}}</small><div class=clearfix></div></div>')
}]);